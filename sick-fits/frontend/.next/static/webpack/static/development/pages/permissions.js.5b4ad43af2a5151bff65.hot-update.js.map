{"version":3,"file":"static/webpack/static/development/pages/permissions.js.5b4ad43af2a5151bff65.hot-update.js","sources":["webpack:///./components/Permissions.js"],"sourcesContent":["import { Query } from \"react-apollo\";\nimport Error from \"./ErrorMessage.js\";\nimport gql from \"graphql-tag\";\nimport Table from \"./styles/Table.js\";\n\nconst possiblePermissions = [\n  \"ADMIN\",\n  \"USER\",\n  \"ITEMCREATE\",\n  \"ITEMUPDATE\",\n  \"ITEMDELETE\",\n  \"PERMISSIONUPDATE\"\n];\n\nconst ALL_USERS_QUERY = gql`\n  query {\n    users {\n      id\n      name\n      email\n      permissions\n    }\n  }\n`;\n\nconst Permissions = props => {\n  return (\n    <Query query={ALL_USERS_QUERY}>\n      {({ data, loading, error }) =>\n        console.log(data) || (\n          <>\n            <Error error={error} />\n            <div>\n              <h2>Manage Permissions</h2>\n              <Table>\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Email</th>\n                    {possiblePermissions.map(permission => (\n                      <th>{permission}</th>\n                    ))}\n                    <th>Update</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {data.users.map(user => (\n                    <User user={user} key={user.id} />\n                  ))}\n                </tbody>\n              </Table>\n            </div>\n          </>\n        )\n      }\n    </Query>\n  );\n};\n\nclass User extends React.Component {\n  render() {\n    const user = this.props.user;\n    return (\n      <tr>\n        <td>{user.name}</td>\n        <td>{user.email}</td>\n        {possiblePermissions.map((permission, index) => (\n          <td key={index}>\n            <label htmlFor={`${user.id}-permission-${permission}`}>\n              <input type=\"checkbox\" />\n            </label>\n          </td>\n        ))}\n      </tr>\n    );\n  }\n}\n\nexport default Permissions;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AASA;AACA;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAlBA;AA6BA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AASA;;;;AAhBA;AACA;AAkBA;;;;A","sourceRoot":""}